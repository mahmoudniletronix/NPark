<div class="app-shell d-flex">
  <!-- Sidebar -->
  <aside class="app-sidebar d-flex flex-column p-3">
    <a class="brand text-decoration-none mb-4" routerLink="/">
      <span class="n">N</span><span class="p">Park</span>
    </a>

    <nav class="nav flex-column gap-1">
      <a
        class="nav-link text-light d-flex align-items-center gap-2"
        routerLink="/overview"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        <i class="bi bi-house"></i> overview
      </a>

      <div class="text-secondary small mt-3 mb-1 text-uppercase">Parking</div>

      <!-- Gate with submenu -->
      <div class="nav-item">
        <button
          class="nav-link text-light d-flex align-items-center gap-2 btn-toggle"
          type="button"
          (click)="toggleGate()"
          [attr.aria-expanded]="gateOpen"
        >
          <i class="bi bi-door-open"></i>
          Gate
          <i class="bi ms-auto" [ngClass]="gateOpen ? 'bi-chevron-up' : 'bi-chevron-down'"></i>
        </button>

        <div class="submenu" *ngIf="gateOpen">
          <a
            class="nav-link text-light d-flex align-items-center gap-2 ps-4"
            routerLink="/tickets"
            routerLinkActive="active"
          >
            <i class="bi bi-arrow-right-circle"></i> Entry Gate
          </a>
          <a
            class="nav-link text-light d-flex align-items-center gap-2 ps-4"
            routerLink="/exitgate"
            routerLinkActive="active"
          >
            <i class="bi bi-box-arrow-right"></i> Exit Gate
          </a>
        </div>
      </div>
      <a
        class="nav-link text-light d-flex align-items-center gap-2"
        routerLink="/visitor"
        routerLinkActive="active"
      >
        <i class="bi bi-credit-card"></i>
        Visitor
      </a>

      <!-- existing links -->
      <a
        class="nav-link text-light d-flex align-items-center gap-2"
        routerLink="/subscription"
        routerLinkActive="active"
      >
        <i class="bi bi-credit-card"></i>
        Altaeriffa
      </a>
      <a
        class="nav-link text-light d-flex align-items-center gap-2"
        routerLink="/registration"
        routerLinkActive="active"
      >
        <i class="bi bi-person"></i>
        Subscription
      </a>

      <div class="text-secondary small mt-3 mb-1 text-uppercase">Management</div>
      <a
        class="nav-link text-light d-flex align-items-center gap-2"
        routerLink="/users"
        routerLinkActive="active"
      >
        <i class="bi bi-people"></i> Users
      </a>
      <a
        class="nav-link text-light d-flex align-items-center gap-2"
        routerLink="/configuration"
        routerLinkActive="active"
      >
        <i class="bi bi-gear"></i> Configuration
      </a>

      <a
        class="nav-link text-light d-flex align-items-center gap-2"
        routerLink="/parking-guidance-diagram"
        routerLinkActive="active"
      >
        <i class="bi bi-gear"></i> Parking Guidance Diagram
      </a>
    </nav>

    <div class="mt-auto small text-secondary">v1.0</div>
  </aside>

  <section class="app-content flex-fill d-flex flex-column">
    <header class="app-topbar d-flex align-items-center justify-content-between px-4 py-3">
      <div class="fw-semibold">Dashboard</div>
      <div class="text-muted small">Welcome back</div>
    </header>

    <main class="p-4">
      <router-outlet></router-outlet>
    </main>
  </section>
</div>
